<script type="text/javascript">
    require( [
        "https://cdn.pagamastarde.com/pmt-js-client-sdk/3/js/client-sdk.min.js",
            "jquery" ],
        function (pagantisClient, $) {
            if (typeof pagantisClient !== 'undefined') {
                $(document).ready( function(){
                    pagantisClient.modal.open(
                        "<?=$block->getOrderUrl(); ?>",
                        {
                            closeOnBackDropClick: false,
                            closeOnEscPress: false,
                            backDropDark: false,
                            largeSize: true,
                            closeConfirmationMessage: "{l s='Sure you want to leave?' mod='pagantis'}"
                        }
                    );
                });
                pagantisClient.modal.onClose(function() {
                    window.location.href = "<?=$block->getCheckoutUrl(); ?>";
                });
            }
        }
    );
</script>
